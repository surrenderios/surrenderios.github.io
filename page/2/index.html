<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Alex</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Alex">
<meta property="og:url" content="https://github.com/surrenderios/surrenderios.github.io/page/2/index.html">
<meta property="og:site_name" content="Alex">
<meta property="og:locale" content="中文">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Alex">
  
    <link rel="alternative" href="/atom.xml" title="Alex" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="/me.png" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Alex Wu</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>Menu</li>
						<li>Tags</li>
						
						<li>Links</li>
						
						
						<li>About</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/surrenderios" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/u/2439892130/home?wvr=5&lf=reg" title="weibo">weibo</a>
					        
								<a class="rss" target="_blank" href="http://blog.csdn.net/u012972257" title="rss">rss</a>
					        
								<a class="mail" target="_blank" href="mailto:surrenderios@gmail.com" title="mail">mail</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.csdn.net/u012972257">CSDN的博客</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">什么都不要问，我什么都不会说的！</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Alex Wu</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="/me.png" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">Alex Wu</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/surrenderios" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/u/2439892130/home?wvr=5&lf=reg" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="http://blog.csdn.net/u012972257" title="rss">rss</a>
			        
						<a class="mail" target="_blank" href="mailto:surrenderios@gmail.com" title="mail">mail</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
  
    <article id="post-MP3-LAME" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/08/10/MP3-LAME/" class="article-date">
  	<time datetime="2018-08-10T04:15:14.000Z" itemprop="datePublished">2018-08-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/10/MP3-LAME/">MP3_LAME</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="iOS-使用LAME编码MP3文件"><a href="#iOS-使用LAME编码MP3文件" class="headerlink" title="iOS 使用LAME编码MP3文件"></a>iOS 使用LAME编码MP3文件</h1><h2 id="编码过程"><a href="#编码过程" class="headerlink" title="编码过程"></a>编码过程</h2><p>将音频原始数据为PCM格式编码成可以直接播放的Mp3文件的过程,该过程使用LAME</p>
<h2 id="LAME"><a href="#LAME" class="headerlink" title="LAME"></a>LAME</h2><h3 id="LAME是做什么的？"><a href="#LAME是做什么的？" class="headerlink" title="LAME是做什么的？"></a>LAME是做什么的？</h3><p>LAME是目前非常优秀的一种MP3编码引擎，在业界，转码成MP3格式的音频文件时，最常用的编码器就是LAME库</p>
<h2 id="编译LAME"><a href="#编译LAME" class="headerlink" title="编译LAME"></a>编译LAME</h2><h3 id="下载：-https-sourceforge-net-projects-lame-files-lame"><a href="#下载：-https-sourceforge-net-projects-lame-files-lame" class="headerlink" title="下载： https://sourceforge.net/projects/lame/files/lame/"></a>下载： <a href="https://sourceforge.net/projects/lame/files/lame/" target="_blank" rel="noopener">https://sourceforge.net/projects/lame/files/lame/</a></h3><h3 id="下载编译脚本：-https-github-com-kewlbear-lame-ios-build"><a href="#下载编译脚本：-https-github-com-kewlbear-lame-ios-build" class="headerlink" title="下载编译脚本： https://github.com/kewlbear/lame-ios-build"></a>下载编译脚本： <a href="https://github.com/kewlbear/lame-ios-build">https://github.com/kewlbear/lame-ios-build</a></h3><h3 id="编译："><a href="#编译：" class="headerlink" title="编译："></a>编译：</h3><ol>
<li>将下载的文件放入同一个文件夹</li>
<li>修改 build-lame.sh 的 SOURCE=”xxx”, XXX为lame解压后的文件夹名字</li>
<li>终端命令行执行 ./build-lame.sh</li>
<li>命令行执行完成后, fat-lame 就是编译好的文件所在</li>
</ol>
<h2 id="新建iOS工程"><a href="#新建iOS工程" class="headerlink" title="新建iOS工程"></a>新建iOS工程</h2><ol>
<li>打开Xcode, 创建一个工程命名为Mp3Encoder</li>
<li>添加编译得到的 fat-lame 库</li>
<li>下载原始的PCM测试文件,添加到工程中,<a href="https://gitee.com/xiansanyee/codes/saix3etdh0bywm4pr9gzl38" target="_blank" rel="noopener">https://gitee.com/xiansanyee/codes/saix3etdh0bywm4pr9gzl38</a></li>
<li>新建C++文件,命名为mp3_encoder</li>
</ol>
<h2 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h2><h3 id="目的"><a href="#目的" class="headerlink" title="目的:"></a>目的:</h3><p>输入一个原始的pcm文件，然后经过LAME转换为mp3文件</p>
<h3 id="mp3-encoder头文件"><a href="#mp3-encoder头文件" class="headerlink" title="mp3_encoder头文件"></a>mp3_encoder头文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">class Mp3Encoder&#123;</span><br><span class="line">private:</span><br><span class="line">    FILE *pcmFile;</span><br><span class="line">    FILE *mp3File;</span><br><span class="line">    lame_t lameClient;</span><br><span class="line">    </span><br><span class="line">public:</span><br><span class="line">    Mp3Encoder();</span><br><span class="line">    ~Mp3Encoder();</span><br><span class="line">    int Init(const char * pcmFilePath, const char *mp3FilePath, int sampleRate, int channels, int bitRate);</span><br><span class="line">    void Encode();</span><br><span class="line">    void Destory();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="mp3-encoder实现文件"><a href="#mp3-encoder实现文件" class="headerlink" title="mp3_encoder实现文件"></a>mp3_encoder实现文件</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">Mp3Encoder::Mp3Encoder()&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Mp3Encoder::~Mp3Encoder()&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> Mp3Encoder::Init(<span class="keyword">const</span> <span class="keyword">char</span> *pcmFilePath, <span class="keyword">const</span> <span class="keyword">char</span> *mp3FilePath, <span class="keyword">int</span> sampleRate, <span class="keyword">int</span> channels, <span class="keyword">int</span> bitRate)&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">-1</span>;</span><br><span class="line">    pcmFile = fopen(pcmFilePath, <span class="string">"rb"</span>);</span><br><span class="line">    <span class="keyword">if</span> (pcmFile) &#123;</span><br><span class="line">        mp3File = fopen(mp3FilePath, <span class="string">"wb"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (mp3File) &#123;</span><br><span class="line">            lameClient = lame_init();</span><br><span class="line">            lame_set_in_samplerate(lameClient, sampleRate);</span><br><span class="line">            lame_set_out_samplerate(lameClient, sampleRate);</span><br><span class="line">            lame_set_num_channels(lameClient, channels);</span><br><span class="line">            lame_set_brate(lameClient, bitRate / <span class="number">1000</span>);</span><br><span class="line">            lame_init_params(lameClient);</span><br><span class="line">            ret = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> Mp3Encoder::Encode()&#123;</span><br><span class="line">    <span class="keyword">int</span> bufferSize = <span class="number">1024</span> * <span class="number">256</span>;</span><br><span class="line">    <span class="keyword">short</span> *buffer = <span class="keyword">new</span> <span class="keyword">short</span>[bufferSize / <span class="number">2</span>];</span><br><span class="line">    <span class="keyword">short</span> *leftBuffer = <span class="keyword">new</span> <span class="keyword">short</span>[bufferSize / <span class="number">4</span>];</span><br><span class="line">    <span class="keyword">short</span> *rightBuffer = <span class="keyword">new</span> <span class="keyword">short</span>[bufferSize / <span class="number">4</span>];</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">char</span> *mp3_buffer = <span class="keyword">new</span> <span class="keyword">unsigned</span> <span class="keyword">char</span>[bufferSize];</span><br><span class="line">    <span class="keyword">size_t</span> readBufferSize = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> ((readBufferSize = fread(buffer, <span class="number">2</span>, bufferSize / <span class="number">2</span>, pcmFile)) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; readBufferSize; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                leftBuffer[i / <span class="number">2</span>] = buffer[i];</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                rightBuffer[i / <span class="number">2</span>] = buffer[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">size_t</span> wroteSize = lame_encode_buffer(lameClient, leftBuffer, rightBuffer, (<span class="keyword">int</span>)(readBufferSize / <span class="number">2</span>), mp3_buffer, bufferSize);</span><br><span class="line">        fwrite(mp3_buffer, <span class="number">1</span>, wroteSize, mp3File);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">delete</span>[] buffer;</span><br><span class="line">    <span class="keyword">delete</span>[] leftBuffer;</span><br><span class="line">    <span class="keyword">delete</span>[] rightBuffer;</span><br><span class="line">    <span class="keyword">delete</span>[] mp3_buffer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> Mp3Encoder::Destory()&#123;</span><br><span class="line">    <span class="keyword">if</span> (pcmFile) &#123;</span><br><span class="line">        fclose(pcmFile);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (mp3File) &#123;</span><br><span class="line">        fclose(mp3File);</span><br><span class="line">        lame_close(lameClient);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h2><ol>
<li><p>Main.storyboard中添加一个按钮,链接点击时间到ViewController中</p>
<pre><code>- (IBAction)startEncode:(id)sender</code></pre></li>
<li><p>初始化Mp3Encoder并调用进行解码</p>
<pre><code>NSLog(@&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;start&quot;);
NSString *sourcePath = [[NSBundle mainBundle] pathForResource:@&quot;test&quot; ofType:@&quot;pcm&quot;];
NSString *desFolder = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) firstObject];

NSString *desPath = [desFolder stringByAppendingPathComponent:@&quot;test.mp3&quot;];

const char *sp = [sourcePath cStringUsingEncoding:NSUTF8StringEncoding];
const char *dp = [desPath cStringUsingEncoding:NSUTF8StringEncoding];
Mp3Encoder *encoder = new Mp3Encoder();
__unused int ret = encoder-&gt;Init(sp, dp, 44100, 2, 128 * 1240);
encoder-&gt;Encode();
encoder-&gt;Destory();
NSLog(@&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;finished&quot;);    </code></pre></li>
<li><p>配置C++编译支持<br>在Xcode中,target的build-seting中，other linker flags 添加 -lstdc++<br>修改ViewController.m为ViewController.mm</p>
</li>
<li><p>配置应用程序证书,运行,并点击按钮调用方法开始编码</p>
</li>
<li><p>使用Xcode-&gt;Window-&gt;Devices and Simulators, 选中应用程序, 导致AppData</p>
</li>
<li><p>展开AppData，找到编码好的mp3文件, 测试播放</p>
</li>
</ol>
<h2 id="其它常用库编译"><a href="#其它常用库编译" class="headerlink" title="其它常用库编译"></a>其它常用库编译</h2><p><strong>buid fdk-acc</strong></p>
<ol>
<li>download fdk-acc by ‘git clone <a href="https://git.code.sf.net/p/opencore-amr/fdk-aac" target="_blank" rel="noopener">https://git.code.sf.net/p/opencore-amr/fdk-aac</a> opencore-amr-fdk-aac’</li>
<li>download build script by ‘git clone <a href="https://github.com/kewlbear/fdk-aac-build-script-for-iOS&#39;">https://github.com/kewlbear/fdk-aac-build-script-for-iOS&#39;</a></li>
<li>modify build-fdk-acc.sh, let SOURCE=”xxx” ,xxx is the name of fdk-acc foler</li>
<li>cd xxx, user terminal input ‘autoreconf -i’,and press enter</li>
<li>cd ..</li>
<li>./build-fdk-aac.sh</li>
</ol>
<p><strong>x264</strong></p>
<ol>
<li>git clone <a href="http://git.videolan.org/git/x264.git" target="_blank" rel="noopener">http://git.videolan.org/git/x264.git</a></li>
<li><a href="https://github.com/kewlbear/x264-ios.git">https://github.com/kewlbear/x264-ios.git</a></li>
<li>build same with lame and fdk-acc</li>
</ol>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-FFmpeg" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/08/01/FFmpeg/" class="article-date">
  	<time datetime="2018-08-01T04:15:14.000Z" itemprop="datePublished">2018-08-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/01/FFmpeg/">FFmpeg</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="FFmpeg"><a href="#FFmpeg" class="headerlink" title="FFmpeg"></a>FFmpeg</h1><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>FFmpeg是一套可以用来记录、处理数字音频、视频，并将其转换为流的开源框架，提供了录制、转换以及流化音视频的完整解决方案，可移植性或者说跨平台特性非常强大，支持Linux服务器、PC（包括Windows、Mac OS X等）、移动端设备（Android、iOS等移动设备）等平台。</p>
<h2 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h2><p>FFmpeg与大部分GNU软件的编译方式类似，都是通过configure脚本来实现编译前定制的，这种方式允许用户在编译前对软件进行裁剪，同时通过对最终运行到的系统以及目标平台的配置来决定对某些模块设定合适的配置<br>看看configure的脚本，可以利用它的help命令来查看其到底提供了哪些选项？</p>
<pre><code>./configure -help</code></pre><h2 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h2><p>默认的编译会生成4个可执行文件和8个静态库。</p>
<p>4个可执行文件:<br><strong>ffmpeg</strong>：可执行文件包括用于转码、推流、Dump媒体文件的ffmpeg。<br><strong>ffplay</strong>：用于播放媒体文件的ffplay。<br><strong>ffprobe</strong>：用于获取媒体文件信息的ffprobe。<br><strong>ffserver</strong>: 以及作为简单流媒体服务器的ffserver。</p>
<p>8个静态库:<br><strong>AVUtil</strong>：核心工具库，该模块是最基础的模块之一，下面的许多其他模块都会依赖该库做一些基本的音视频处理操作。   </p>
<p><strong>AVFormat</strong>：文件格式和协议库，该模块是最重要的模块之一，封装了Protocol层和Demuxer、Muxer层，使得协议和格式对于开发者来说是透明的。   </p>
<p><strong>AVCodec</strong>：编解码库，该模块也是最重要的模块之一，封装了Codec层，但是有一些Codec是具备自己的License的，FFmpeg是不会默认添加像libx264、FDK-AAC、lame等库的，但是FFmpeg就像一个平台一样，可以将其他的第三方的Codec以插件的方式添加进来，然后为开发者提供统一的接口。   </p>
<p><strong>AVFilter</strong>：音视频滤镜库，该模块提供了包括音频特效和视频特效的处理，在使用FFmpeg的API进行编解码的过程中，直接使用该模块为音视频数据做特效处理是非常方便同时也非常高效的一种方式。</p>
<p><strong>AVDevice</strong>：输入输出设备库，比如，需要编译出播放声音或者视频的工具ffplay，就需要确保该模块是打开的，同时也需要libSDL的预先编译，因为该设备模块播放声音与播放视频使用的都是libSDL库。</p>
<p><strong>SwrRessample</strong>：该模块可用于音频重采样，可以对数字音频进行声道数、数据格式、采样率等多种基本信息的转换。</p>
<p><strong>SWScale</strong>：该模块是将图像进行格式转换的模块，比如，可以将YUV的数据转换为RGB的数据。   </p>
<p><strong>PostProc</strong>：该模块可用于进行后期处理，当我们使用AVFil-ter的时候需要打开该模块的开关，因为Filter中会使用到该模块的一些基础函数。</p>
<h2 id="第三方库导入："><a href="#第三方库导入：" class="headerlink" title="第三方库导入："></a>第三方库导入：</h2><p>FFmpeg平台引入第三方编解码库，修改编译脚本即可，例如：新增X264编码器需要新增以下脚本</p>
<pre><code>-enable-muxer=h264 \
--enable-encoder=libx264 \
--enable-libx264 \
--extra-cflags=”-Iexternal-libs/x264/include” \
--extra-ldflags=”-Lexternal-libs/x264/lib” \</code></pre><h2 id="实际操作"><a href="#实际操作" class="headerlink" title="实际操作"></a>实际操作</h2><ol>
<li>下载FFmpeg代码库：git clone <a href="https://github.com/FFmpeg/FFmpeg.git">https://github.com/FFmpeg/FFmpeg.git</a></li>
<li>下载编译脚本：git clone <a href="https://github.com/kewlbear/FFmpeg-iOS-build-script.git">https://github.com/kewlbear/FFmpeg-iOS-build-script.git</a></li>
<li>根据需要将编译脚本放到FFmpeg的统计目录</li>
<li>终端执行 ./build-ffmpeg.sh    </li>
</ol>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Basic-Of-Video-And-Audio" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/07/15/Basic-Of-Video-And-Audio/" class="article-date">
  	<time datetime="2018-07-15T04:15:14.000Z" itemprop="datePublished">2018-07-15</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/15/Basic-Of-Video-And-Audio/">Basic_Of_Video_And_Audio</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="音视频基础知识"><a href="#音视频基础知识" class="headerlink" title="音视频基础知识"></a>音视频基础知识</h1><h2 id="声音"><a href="#声音" class="headerlink" title="声音"></a>声音</h2><ul>
<li><p>声音是由物体振动而产生的</p>
</li>
<li><p>声波的三要素是频率、振幅和波形，频率代表音阶的高低，振幅代表响度，波形代表音色</p>
</li>
<li><p>人类耳朵的听力有一个频率范围，大约是20Hz～20kHz</p>
</li>
<li><p>声音的传播介质很广，它可以通过空气、液体和固体进行传播；介质不同，传播的速度也不同，比如，声音在空气中的传播速度为340m/s，在蒸馏水中的传播速度为1497m/s，而在铁棒中的传播速度则可以高达5200m/s；不过，声音在真空中是无法传播的</p>
<h2 id="声音采集"><a href="#声音采集" class="headerlink" title="声音采集"></a>声音采集</h2></li>
<li><p><strong>麦克风是如何采集声音的？</strong> 麦克风里面有一层碳膜，非常薄而且十分敏感。声音其实是一种纵波，会压缩空气也会压缩这层碳膜，碳膜在受到挤压时也会发出振动，在碳膜的下方就是一个电极，碳膜在振动的时候会接触电极，接触时间的长短和频率与声波的振动幅度和频率有关，这样就完成了声音信号到电信号的转换。之后再经过放大电路处理，就可以实施后面的采样量化处理了</p>
</li>
<li><p>为了将模拟信号数字化，分别是采样、量化和编码</p>
<p>  <strong>采样</strong>：就是在时间轴上对信号进行数字化，根据奈奎斯特定理（也称为采样定理），按比声音最高频率高2倍以上的频率对声音进行采样（也称为AD转换）对于高质量的音频信号，其频率范围（人耳能够听到的频率范围）是20Hz～20kHz，所以采样频率一般为44.1kHz，这样就可以保证采样声音达到20kHz也能被数字化，从而使得经过数字化处理之后，人耳听到的声音质量不会被降低。而所谓的44.1kHz就是代表1秒会采样44100次</p>
<p>  <strong>量化</strong>：量化是指在幅度轴上对信号进行数字化，比如用16比特的二进制信号来表示声音的一个采样，而16比特（一个short）所表示的范围是[-32768，32767]，共有65536个可能取值，因此最终模拟的音频信号在幅度上也分为了65536层</p>
<p>  <strong>编码</strong>：所谓编码，就是按照一定的格式记录采样和量化后的数字数据</p>
</li>
<li><p>音频的裸数据格式就是脉冲编码调制（Pulse Code Modulation，PCM）数据</p>
</li>
<li><p>以CD的音质为例：量化格式（有的地方描述为位深度）为16比特（2字节），采样率为44100，声道数为2</p>
</li>
<li><p>描述它的大小，称为数据比特率，即1秒时间内的比特数目，它用于衡量音频数据单位时间内的容量大小</p>
</li>
<li><p>计算如下：</p>
<p>  44100 * 16 * 2 = 1378.125kbps </p>
<p>  那么在1分钟里，这类CD音质的数据需要占据多大的存储空间呢？<br>  计算如下：</p>
<p>  1378.125 * 60 / 8 / 1024 = 10.09MB<br>如果需要在线传输,必须对其进行压缩编码。压缩编码的基本指标之一就是压缩比，压缩比通常小于1</p>
<h2 id="声音的压缩"><a href="#声音的压缩" class="headerlink" title="声音的压缩"></a>声音的压缩</h2></li>
<li><p>压缩算法包括有损压缩和无损压缩。<br>  <strong>无损压缩</strong>是指解压后的数据可以完全复原。在常用的压缩格式中，用得较多的是有损压缩<br>  <strong>有损压缩</strong>是指解压后的数据不能完全复原，会丢失一部分信息，压缩比越小，丢失的信息就越多，信号还原后的失真就会越大</p>
</li>
<li><p>不同的压缩编码算法，如PCM、WAV、AAC、MP3、Ogg等。压缩编码的原理实际上是压缩掉冗余信号，冗余信号是指不能被人耳感知到的信号，包含人耳听觉范围之外的音频信号以及被掩蔽掉的音频信号等。</p>
<p>  <strong>WAV编码</strong>    就是在PCM数据格式的前面加上44字节，分别用来描述PCM的采样率、声道数、数据格式等信息。特点：音质非常好，大量软件都支持。适用场合：多媒体开发的中间文件、保存音乐和音效素材。</p>
<p>  <strong>MP3编码</strong>    MP3具有不错的压缩比，使用LAME编码（MP3编码格式的一种实现）的中高码率的MP3文件，听感上非常接近源WAV文件，当然在不同的应用场景下，应该调整合适的参数以达到最好的效果。特点：音质在128Kbit/s以上表现还不错，压缩比比较高，大量软件和硬件都支持，兼容性好。适用场合：高比特率下对兼容性有要求的音乐欣赏。</p>
<p>  <strong>AAC编码</strong>    AAC是新一代的音频有损压缩技术，它通过一些附加的编码技术(比如PS、SBR等），衍生出了LC-AAC、HE-AAC、HE-AAC v2三种主要的编码格式。LC-AAC是比较传统的AAC，相对而言，其主要应用于中高码率场景的编码（≥80Kbit/s）；HE-AAC（相当于AAC+SBR）主要应用于中低码率场景的编码（≤80Kbit/s）；而新近推出的HE-AAC v2（相当于AAC+SBR+PS）主要应用于低码率场景的编码（≤48Kbit/s）。事实上大部分编码器都设置为≤48Kbit/s自动启用PS技术，而&gt;48Kbit/s则不加PS，相当于普通的HE-AAC。特点：在小于128Kbit/s的码率下表现优异，并且多用于视频中的音频编码。适用场合：128Kbit/s以下的音频编码，多用于视频中音频轨的编码。<br>  <strong>Ogg编码</strong>    Ogg是一种非常有潜力的编码，在各种码率下都有比较优秀的表现，尤其是在中低码率场景下, 特点：可以用比MP3更小的码率实现比MP3更好的音质，高中低码率下均有良好的表现，兼容性不够好，流媒体特性不支持。适用场合：语音聊天的音频消息场景。</p>
</li>
</ul>
<h2 id="视频"><a href="#视频" class="headerlink" title="视频"></a>视频</h2><h3 id="图像的产生"><a href="#图像的产生" class="headerlink" title="图像的产生"></a>图像的产生</h3><ul>
<li><p>在日常生活中，由于光的反射，我们才能看到各类物体的轮廓及颜色, 光又可以用三原色来表示，即RGB</p>
</li>
<li><p>当显示器要显示某篇文字或者某幅图像时，把这幅图像的每一个像素点的RGB通道分别对应的屏幕位置上的子像素点绘制到屏幕上，从而显示整个图像</p>
</li>
<li><p>像素如何表示呢？常用的表示方式有以下几种。<br>  •浮点表示：取值范围为0.0～1.0，比如，在OpenGL ES中对每一个子像素点的表示使用的就是这种表达方式。<br>  •整数表示：取值范围为0～255或者00～FF，8个比特表示一个子像素，32个比特表示一个像素，这就是类似于某些平台上表示图像格式的RGBA_8888数据格式。比如，An-droid平台上RGB_565的表示方法为16比特模式表示一个像素，R用5个比特来表示，G用6个比特来表示，B用5个比特来表示。</p>
</li>
<li><p>对于一幅图像，一般使用整数表示方法来进行描述，<br>  比如计算一张 1280×720 的 RGBA_8888 图像的大小，可采用如下方式：</p>
<p>  1280 * 720 * 4 = 3.516MB </p>
<p>  这也是位图（bitmap）在内存中所占用的大小，要在网络上进行传输,就需要将其压缩以节省带宽</p>
</li>
</ul>
<h3 id="图像的压缩"><a href="#图像的压缩" class="headerlink" title="图像的压缩"></a>图像的压缩</h3><ul>
<li><strong>JPEG压缩</strong>：JPEG是静态图像压缩标准，由ISO制定。JPEG图像压缩算法在提供良好的压缩性能的同时，具有较好的重建质量。这种算法被广泛应用于图像处理领域</li>
<li><strong>PNG压缩</strong>：</li>
</ul>
<h3 id="视频使用图像表示"><a href="#视频使用图像表示" class="headerlink" title="视频使用图像表示"></a>视频使用图像表示</h3><ul>
<li>视频可以简单理解为一连串的图像连续切换, 由于图像的连续切换, 造成了人眼感觉是连续的。最小的每秒连续切换张数为24张,即我们常说的24帧, fps为24</li>
<li>如果采用原始图像来表示,假设一步电影90分钟,分辨率为1280 * 720,fps为24,图像的表示方式为RGBA_8888那么他的大小就为<br>  1280 * 720 * 4 * 24 * 90 * 60 = 444.94 GB</li>
<li>如此大的一部视频, 用这种原始图像的方式来存储电影肯定是不可行的，更别说在网络上进行流媒体播放了,所以就涉及到了视频的压缩算法</li>
</ul>
<h3 id="视频的压缩"><a href="#视频的压缩" class="headerlink" title="视频的压缩"></a>视频的压缩</h3><h4 id="YUK来表示RGB"><a href="#YUK来表示RGB" class="headerlink" title="YUK来表示RGB"></a>YUK来表示RGB</h4><ul>
<li>其中“Y”表示明亮度（Luminance或Luma），也称灰阶值；</li>
<li>而“U”和“V”表示的则是色度（Chrominance或Chroma；<br>  它们的作用是描述影像的色彩及饱和度，用于指定像素的颜色。“亮度”是透过RGB输入信号来建立的，方法是将RGB信号的特定部分叠加到一起。“色度”则定义了颜色的两个方面——色调与饱和度，分别用Cr和Cb来表示。其中，Cr反映了RGB输入信号红色部分与RGB信号亮度值之间的差异，而Cb反映的则是RGB输入信号蓝色部分与RGB信号亮度值之间的差异。之所以采用YUV色彩空间，是因为它的亮度信号Y和色度信号U、V是分离的。如果只有Y信号分量而没有U、V分量，那么这样表示的图像就是黑白灰度图像。彩色电视采用YUV空间正是为了用亮度信号Y解决彩色电视机与黑白电视机的兼容问题，使黑白电视机也能接收彩色电视信号</li>
<li>Y、U、V都使用8个字节来表示，所以取值范围就是0～255</li>
<li>因为电视显示是逐行扫面显示,YUV一般采用的比例为2:1,即水平方向和竖直方向的抽样率都是2：1。对于每个色度分量来说，水平方向和竖直方向的抽样率都是2：1，所以可以说色度的抽样率是4：1。对非压缩的8比特量化的视频来说，8×4的一张图片需要占用48字节的内存</li>
<li>那么再计算一下上面相同的视频大小：<br>  1280 * 720 * 1.5 * 1 * 24 * 90 * 60 = 166.8GB<br>  相对上面的444.94GB，已经缩小了相当多的大小，但是拿来直接传输还是显得太大，这时候视频的压缩算法就上场了</li>
</ul>
<h4 id="视频压缩"><a href="#视频压缩" class="headerlink" title="视频压缩"></a>视频压缩</h4><ul>
<li>上面的视频只考虑了帧内(即每一秒24张图为一帧),而没有考虑帧间算法。使用帧间编码技术可以去除时间上的冗余信息，具体包括以下几个部分。   </li>
</ul>
<p><strong>•运动补偿</strong>：运动补偿是通过先前的局部图像来预测、补偿当前的局部图像，它是减少帧序列冗余信息的有效方法。<br><strong>•运动表示</strong>：不同区域的图像需要使用不同的运动矢量来描述运动信息。<br><strong>•运动估计</strong>：运动估计是从视频序列中抽取运动信息的一整套技术。</p>
<h4 id="压缩算法"><a href="#压缩算法" class="headerlink" title="压缩算法"></a>压缩算法</h4><p><strong>MPEG</strong>: ISO制定的,即 Motion JPEG<br><strong>H264</strong>: H.264创造了多参考帧、多块类型、整数变换、帧内预测等新的压缩技术，使用了更精细的分像素运动矢量（1/4、1/8）和新一代的环路滤波器，这使得压缩性能得到大大提高，系统也变得更加完善。现在使用最多的就是H.264标准</p>
<h4 id="编码概念"><a href="#编码概念" class="headerlink" title="编码概念"></a>编码概念</h4><p><strong>IPB帧</strong>：视频压缩中，每帧都代表着一幅静止的图像。而在进行实际压缩时，会采取各种算法以减少数据的容量，其中IPB帧就是最常见的一种。</p>
<p><strong>I帧</strong>：帧内编码帧（intra picture），I帧通常是每个GOP（MPEG所使用的一种视频压缩技术，两个I帧之间形成的一组图片，就是GOP（Group Of Pic-ture）的概念）的第一个帧，经过适度地压缩，作为随机访问的参考点，可以当成静态图像。I帧可以看作一个图像经过压缩后的产物，I帧压缩可以得到6：1的压缩比而不会产生任何可觉察的模糊现象。I帧压缩可去掉视频的空间冗余信息，下面即将介绍的P帧和B帧是为了去掉时间冗余信息。</p>
<p><strong>P帧</strong>：前向预测编码帧（predictive-frame），通过将图像序列中前面已编码帧的时间冗余信息充分去除来压缩传输数据量的编码图像，也称为预测帧</p>
<p><strong>B帧</strong>：双向预测内插编码帧（bi-directional interpolatedprediction frame），既考虑源图像序列前面的已编码帧，又顾及源图像序列后面的已编码帧之间的时间冗余信息，来压缩传输数据量的编码图像，也称为双向预测帧。</p>
<p>I帧自身可以通过视频解压算法解压成一张单独的完整视频画面，所以I帧去掉的是视频帧在空间维度上的冗余信息，P帧需要参考其前面的一个I帧或者P帧来解码成一张完整的视频画面，B帧则需要参考其前一个I帧或者P帧及其后面的一个P帧来生成一张完整的视频画面，所以P帧与B帧去掉的是视频帧在时间维度上的冗余信息。</p>
<p>IDR帧与I帧的理解在H264的概念中有一个帧称为IDR帧，那么IDR帧与I帧的区别是什么呢？首先来看一下IDR的英文全称instanta-neous decoding refresh picture，因为H264采用了多帧预测，所以I帧之后的P帧有可能会参考I帧之前的帧，这就使得在随机访问的时候不能以找到I帧作为参考条件，因为即使找到I帧，I帧之后的帧还是有可能解析不出来，而IDR帧就是一种特殊的I帧，即这一帧之后的所有参考帧只会参考到这个IDR帧，而不会再参考前面的帧。在解码器中，一旦收到一个IDR帧，就会立即清理参考帧缓冲区，并将IDR帧作为被参考的帧。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-2018" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/02/01/2018/" class="article-date">
  	<time datetime="2018-02-01T04:15:14.000Z" itemprop="datePublished">2018-02-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/01/2018/">2018</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2018"><a href="#2018" class="headerlink" title="2018"></a>2018</h1><p>2018已经开始了,总结过去的一年,给新的一年自己立下新目标</p>
<h3 id="工作"><a href="#工作" class="headerlink" title="工作"></a>工作</h3><p>人生就像一只储蓄罐,你投入的每一分努力,都会在未来的某一天,回馈于你</p>
<p>2017是忙碌的一年,全程完成了柬埔寨国家广电项目的从0到上架,参与贵州广电项目的版本,同时完成大数据统计SDK的设计和编码,一整年的时间非常紧凑。<br><img src="media/15204156088365/project.png" alt="project"></p>
<p>除了项目开发,同时也输出了相应的文档<br><img src="media/15204156088365/document.png" alt="document"></p>
<p>开发的过程之中,作为一名编码人员,同时输出了能够重复利用的相关模块<br><img src="media/15204156088365/module.png" alt="module"></p>
<h3 id="生活"><a href="#生活" class="headerlink" title="生活"></a>生活</h3><ol>
<li>年初在老婆家举行了婚礼</li>
<li>紧接着又开始准备5.1日在自己的婚礼</li>
<li>7月份开始看车</li>
<li>8月份开始收拾房子</li>
<li>9月份搬家到新房</li>
<li>10月份装修转租的房子</li>
<li>然后接着老婆辞职,开始准备做小生意的相关事项<br>这一年,除掉周末的加班,感觉每个周末都在外面跑。<h3 id="学习"><a href="#学习" class="headerlink" title="学习"></a>学习</h3><h4 id="工作上"><a href="#工作上" class="headerlink" title="工作上"></a>工作上</h4>开发技术上的提升：经过这一年的iOS开发，接触了更多的项目需求，SDK方案的设计，在技术上相对之前有足够大的进步。从之前的功能实现到了代码的扩展，健壮和结构性清晰。<br>沟通上的进步：以前一直不明白自己的表达和听者理解的偏差存在，所以在沟通过程中很容易出现一件事情说第二次或者更多的时候，就很容易上火的情况。当理解了这一点后，也就更加审视自己在表述的是否清楚易于理解，同时也在听者询问的时候更加耐心的解释，这样下来的效果就是沟通很愉快，慢慢自己的耐心也变得更加好了。<br>项目进度的把控：之前很多时候都是一个人做一个项目，没有那么多的规划。现在当设计到多人协作的时候，就需要安排好整个需求的权重，考虑到后台以及客户的要求，开发的时间，在经历过了这一整年后, 有了很大的提高。<br>抱怨是解决不了问题的：以前自己也总是抱怨工作中这里不合理哪里不合理，同时也带给了同事消极的气氛。 这一年过来，自己几乎没有任何抱怨，只是尽自己力所能及的去解决这些问题，解决不了的问题就提出来，一起解决，实在解决不了的，就提上日程，以后解决。<br>从不同的层面看待问题：站在自己和管理层面看问题，站在不同部门来看待问题，站在公司层面来看待问题，让自己能够在问题的处理中也有了更多的思路。<br>付出总还是有一些收获的： 感谢这一年辛苦的自己，加薪和年终奖还算过得去。<h4 id="生活上"><a href="#生活上" class="headerlink" title="生活上"></a>生活上</h4>明天和意外，你永远不知道哪一个先来： 丈母娘的生病突然让人意识到了一点：“父母真的进入了老年时代了”， 病痛也可能会增多，带给我们的不仅仅是精力上的压力，还有经济上的。<br>生活中并不总是有那么多坏人，好人还是多数： 和老婆总结的时候，发现这一年接触到的都是些很友善人。在书上读到一句类似“他们对你的态度很多时候间接的就反应出了你对他们的态度”。 我想应该是老婆很友善带来的效应吧。<br>你偷懒了，多嘴了，肉会反应出来的：这一年骑车还是在继续，夏天的时候还是在游泳，所以夏天一直没有胖，但是一进入冬天，感觉真个人都不好了，骑车减少了，游泳就不超过5次，也管不住自己的嘴，一个冬天涨了10斤肉。<br>你经历过的痛苦，最终将会有所回报：2年前自己去做了牙齿矫正，一直戴着牙套2年整，过程的痛苦没有经历过的人是不能了解的，但是过年前当取掉牙套以后，感觉这2年的痛真的没有白挨，对比一下矫正前后的图片，有那种热泪盈眶的充冲动<br>如果觉得看书没用，那可能是因为看的太少：没有统计这一年看了多少本书，更多的是偏向经济方面的(突然就对这个产生了兴趣)，才发现原来自己不知道的东西那么多，多到让人羞愧<br>贵就是好（前提是不被烧）：所有的东西都可以用这个来衡量，没有例外，至少我当前这么认为<h3 id="期望"><a href="#期望" class="headerlink" title="期望"></a>期望</h3><h4 id="工作上-1"><a href="#工作上-1" class="headerlink" title="工作上"></a>工作上</h4>能够进入一家更大的公司,体验和学习大团队里面所用的项目流程和团队沟通方式<br>技术上能够做到更加深入,所写的代码能够服务更多的用户<h4 id="生活上-1"><a href="#生活上-1" class="headerlink" title="生活上"></a>生活上</h4></li>
<li>能够持续的积累</li>
<li>坚持运动</li>
<li>更多的和家人聚在一起<br>2018，愿家人平安，顺利。</li>
</ol>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Private-Cocoapod" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/08/01/Private-Cocoapod/" class="article-date">
  	<time datetime="2017-08-01T04:15:14.000Z" itemprop="datePublished">2017-08-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/01/Private-Cocoapod/">Private_Cocoapod</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Pod"><a href="#Pod" class="headerlink" title="Pod"></a>Pod</h1><p>##私有库</p>
<ol>
<li>git.oschina创建项目 名称xx</li>
<li>pod repo add xx <a href="https://git.oschina.net/name/xx.git" target="_blank" rel="noopener">https://git.oschina.net/name/xx.git</a></li>
<li>查看 ~/.cocoapods/repos 下面有 master 和 xx</li>
</ol>
<p>##私有模块</p>
<ol>
<li><p>创建私有模块<br>pod lib create 名字</p>
</li>
<li><p>编辑.podsspec文件</p>
</li>
<li><p>添加到私有库<br>验证<br>pod lib lint name.podspec<br>如果依赖自己的私有库，使用 –sources</p>
</li>
<li><p>打tag<br>git tag  1.0.0 -m ‘描述’<br>git push –tag </p>
</li>
<li><p>推送spec<br>pod repo push STCPrivateSpec 名字.podspec  –sources=master,STCPrivateSpec –allow-warnings  –use-libraries –verbose</p>
</li>
</ol>
<ol start="7">
<li>查找<br>pod search 名字</li>
</ol>
<ol start="8">
<li>找不到就更新<br>pod update</li>
</ol>
<ol start="9">
<li>再找不到就删除缓存</li>
</ol>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-2016" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/02/05/2016/" class="article-date">
  	<time datetime="2017-02-05T03:55:14.000Z" itemprop="datePublished">2017-02-05</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/05/2016/">2016</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2016"><a href="#2016" class="headerlink" title="2016"></a>2016</h1><p>2017年上班的第一天，总结过去一年，给自己一个交代。</p>
<h3 id="工作"><a href="#工作" class="headerlink" title="工作"></a>工作</h3><p>2015年7月份入职这家公司以后，就在紧张的项目开发中度过，2016也如此。 </p>
<p>整个团队人员配置是4个iOS(包括一个Leaer)，4个安卓, 一整年非常高效做下并且维护了6个项目，一个SDK。自己承担了项目管理的角色，从只有开发任务到沟通需求，业务流程，接口，整个上班时间都被填充的完完整整。</p>
<p>最后统计2016整个年度的加班时间将近400个小时，成了整个团队中加班最多的 :(</p>
<h3 id="生活"><a href="#生活" class="headerlink" title="生活"></a>生活</h3><p>4月份和女朋友回家拿了结婚证，步入了婚姻的第一步。</p>
<p>6月份收到收房通知，因为一些小纠纷，跟着维权队伍打了一次酱油，最后还是不了了之。</p>
<p>7月份就开始和老婆一起看装修公司， 确定各种风格。</p>
<p>8月份开始着手装修，每周早7点从南边坐车一个小时到西边，然后就是一整天，晚上10点钟到家。</p>
<p>10月份国庆恰逢老婆公司内部价格计划出去日本，因为丈母娘住院，只能被迫取消了计划。值得高兴的是很快就康复了。</p>
<p>11月份的时候，整个装修基本完成，然后就开始了买家具，电器，窗帘。。。的过程，也是跑了无数个地方挑选才买到合适的。</p>
<p>12月份就开始着手商量过年结婚，然后就是采购物资。。。</p>
<h3 id="学习"><a href="#学习" class="headerlink" title="学习"></a>学习</h3><h4 id="工作上"><a href="#工作上" class="headerlink" title="工作上"></a>工作上</h4><ol>
<li>开发技术上的提升：经过这一年的iOS开发，接触了更多的项目需求，SDK方案的设计，在技术上相对之前有足够大的进步。从之前的功能实现到了代码的扩展，健壮和结构性清晰。</li>
<li>沟通上的进步：以前一直不明白自己的表达和听者理解的偏差存在，所以在沟通过程中很容易出现一件事情说第二次或者更多的时候，就很容易上火的情况。当理解了这一点后，也就更加审视自己在表述的是否清楚易于理解，同时也在听者询问的时候更加耐心的解释，这样下来的效果就是沟通很愉快，慢慢自己的耐心也变得更加好了。</li>
<li>项目进度的把控：之前很多时候都是一个人做一个项目，没有那么多的规划。现在当设计到多人协作的时候，就需要安排好整个需求的权重，考虑到后台以及客户的要求，开发的时间，在经历过了这一整年后, 有了很大的提高。</li>
<li>抱怨是解决不了问题的：以前自己也总是抱怨工作中这里不合理哪里不合理，同时也带给了同事消极的气氛。 这一年过来，自己几乎没有任何抱怨，只是尽自己力所能及的去解决这些问题，解决不了的问题就提出来，一起解决，实在解决不了的，就提上日程，以后解决。</li>
<li>从不同的层面看待问题：站在自己和管理层面看问题，站在不同部门来看待问题，站在公司层面来看待问题，让自己能够在问题的处理中也有了更多的思路。</li>
<li>付出总还是有一些收获的： 感谢这一年辛苦的自己，加薪和年终奖还算过得去。</li>
</ol>
<h4 id="生活上"><a href="#生活上" class="headerlink" title="生活上"></a>生活上</h4><ol>
<li>明天和意外，你永远不知道哪一个先来： 丈母娘的生病突然让人意识到了一点：“父母真的进入了老年时代了”， 病痛也可能会增多，带给我们的不仅仅是精力上的压力，还有经济上的。 </li>
<li>生活中并不总是有那么多坏人，好人还是多数： 和老婆总结的时候，发现这一年接触到的都是些很友善人。在书上读到一句类似“他们对你的态度很多时候间接的就反应出了你对他们的态度”。 我想应该是老婆很友善带来的效应吧。</li>
<li>你偷懒了，多嘴了，肉会反应出来的：这一年骑车还是在继续，夏天的时候还是在游泳，所以夏天一直没有胖，但是一进入冬天，感觉真个人都不好了，骑车减少了，游泳就不超过5次，也管不住自己的嘴，一个冬天涨了10斤肉。</li>
<li>你经历过的痛苦，最终将会有所回报：2年前自己去做了牙齿矫正，一直戴着牙套2年整，过程的痛苦没有经历过的人是不能了解的，但是过年前当取掉牙套以后，感觉这2年的痛真的没有白挨，对比一下矫正前后的图片，有那种热泪盈眶的充冲动</li>
<li>如果觉得看书没用，那可能是因为看的太少：没有统计这一年看了多少本书，更多的是偏向经济方面的(突然就对这个产生了兴趣)，才发现原来自己不知道的东西那么多，多到让人羞愧</li>
<li>贵就是好（前提是不被烧）：所有的东西都可以用这个来衡量，没有例外，至少我当前这么认为</li>
</ol>
<h3 id="期望"><a href="#期望" class="headerlink" title="期望"></a>期望</h3><h4 id="工作上-1"><a href="#工作上-1" class="headerlink" title="工作上"></a>工作上</h4><ol>
<li>能够更多的注重产品细节提高效率</li>
<li>加薪和期权不能少</li>
<li>技术面更广</li>
</ol>
<h4 id="生活上-1"><a href="#生活上-1" class="headerlink" title="生活上"></a>生活上</h4><ol>
<li>5.1在自家的婚礼完美举办</li>
<li>继续坚持骑行，游泳，阅读</li>
<li>扩大自己的社交圈，更多的去沟通分享交流</li>
<li>多回家看看，给家里老人买一个额外的保险</li>
<li>争取早点实现自己的雷克萨斯梦</li>
</ol>
<p>2017，愿家人平安，顺利。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Appium" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/09/29/Appium/" class="article-date">
  	<time datetime="2016-09-29T05:15:14.000Z" itemprop="datePublished">2016-09-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/29/Appium/">Appium</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="使用app模式"><a href="#使用app模式" class="headerlink" title="使用app模式"></a>使用app模式</h3><p>官网直接下载dmg文件安装</p>
<h3 id="使用命令行模式"><a href="#使用命令行模式" class="headerlink" title="使用命令行模式"></a>使用命令行模式</h3><p><strong>1. 安装brew</strong></p>
<p>打开官网<a href="http://brew.sh" target="_blank" rel="noopener">http://brew.sh</a>, 然后拷贝 </p>
<p>/usr/bin/ruby -e “$(curl -fsSL <a href="https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;" target="_blank" rel="noopener">https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</a> </p>
<p>在终端运行&lt;需要科学上网&gt;</p>
<p><strong>2. 安装node</strong></p>
<p>brew install node (或者直接下载node.js的dmg包 <a href="http://nodejs.cn" target="_blank" rel="noopener">http://nodejs.cn</a>)</p>
<p><strong>3.使用node包带的npm安装appium</strong></p>
<p>npm install -g appium</p>
<p>如果还是不行，运行sudo chown -R $USER /usr/local</p>
<p>验证安装是否成功 执行 appium-doctor</p>
<p><strong>4.如果使用python，需要安装python-client</strong></p>
<p>git clone <a href="https://github.com/appium/python-client.git">https://github.com/appium/python-client.git</a></p>
<p>cd python-client/      </p>
<p>python setup.py install</p>
<p><strong>5. 启动appium</strong></p>
<p>appium &amp;</p>
<p>如果报端口被占用，执行 killall -9 node</p>
<p><strong>6. 编译app</strong></p>
<p>cd 到工程目录下面，使用命令行编译app<br>(以官方下载的demo为例,下载地址<a href="https://github.com/appium/sample-code">https://github.com/appium/sample-code</a>)</p>
<p>命令行执行<br>cd ~/sample-code/sample-code/apps/TestApp</p>
<p>xcodebuild -sdk iphonesimulator</p>
<p><strong>7. 运行所写的测试脚本</strong></p>
<p>cd ~/sample-code/sample-code/examples/python </p>
<p>python ~/sample-code/sample-code/examples/python/ios_simple.py</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-2015" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/02/01/2015/" class="article-date">
  	<time datetime="2016-02-01T04:15:14.000Z" itemprop="datePublished">2016-02-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/02/01/2015/">2015</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>2015<br>大多公司这两天陆续都放假了，电梯都没以前早上那么挤<br>公司方面的事情已经弄完了，想着今天上班再撸撸Swift，发现暂时没那个心情。就回顾一下2015吧。</p>
<p>工作</p>
<p>离职</p>
<p>2月份从毕业后的公司离职，在家里安稳的过了个年。因为是第一次跳槽，所以对很多事情都感觉迷迷茫茫的。简历投递后接到的面试电话也不算多。因为之前是做Mac开发，这边很少有公司做这个方向，最后还是只有转到iOS了。3月份入职了一家公司做iOS，然而干得相当不顺心，后来在试用期快满的时候，经朋友介绍，到了现在这家公司。</p>
<p>总体来看这次跳槽，前期离职处理得太草率，也导致自己经济上的一些损失。然而收获的也不算少。面试和补漏让自己又学习了很多，接触新的同事和新的公司事务让自己发现了他们更多的优点和学习到了更多的东西。</p>
<p>入职第一家公司</p>
<p>进入公司以后才得知公司离职率高得吓人。工作了一段时间才发现，公司一点都不重视开发人员，导致产品的代码多人接手维护，整个产品也烂的可怕。本有心想好好改善一下,但是部门一起的另一个哥们后来走了。一个人根本没办法兼顾那么多，至于后来招聘了一个比我年龄大10岁左右的”高级工程师”,后来发现根本就是不会iOS的。2个人的活就丢给我一个人做，功劳还会分一半走。最后没办法，就走人了。（别说我为什么不告诉上面的人）</p>
<p>入职第二家公司</p>
<p>这是朋友老婆所在的公司，相当于是内推吧。<br>从整个简历投递到面试到最后入职，整个过程都还是挺快的，人事=&gt;部门主管=&gt;分管副总。由于经历过之前的公司,所以对薪资看的不是特别重，想的只是找一个靠谱点的公司。和分管副总谈的时候也没做薪资方面的要求，周五面试，分管副总说只要愿意，立刻就可以签合同。思考了下，后来还是答应下周一就入职。（因为手上还有外包没完）</p>
<p>公司总的来说还是不错的吧。入职第一个月是修改和优化之前的项目，了解公司的业务接口什么的。第二个月就开始做新的项目。时间很紧，所以加班挺多的，不过好的是正常给加班费，这点在中国的IT公司真的不算多了。（同行了解的很多都是免费加班）几个小伙伴几乎是一个月赶一个项目，然后赶了3个。导致的是我TM又长胖了。平时吃完晚饭加班，周六偶尔也会加班，运动时间减少了，3个月胖了10多斤，想起自己当初辛辛苦苦才减了30斤下来又反弹了一半，真的是伤心啊。好歹到了年底了，终于又能抽出一些时间来锻炼了。</p>
<p>公司业务多，人少（200多号人），福利过得去。估计这些都得益于Boss也是本行出身，公司对开发人员挺重视，对员工自身的培养和学习也下了一定的功夫。我们部门整个人员也很年轻，氛围还算挺好。</p>
<p>外包项目</p>
<p>在入职的间隙期间,自己和前公司的同事接了日本外包的项目，这里不得不先感叹一下，跟日本人业务打交道的感觉真心不错，尤其是在需求方面，简直是事无巨细，面面俱到。虽然细节要求也非常严格。整个过程很累，自己熬了IT生涯的第一个通宵代码，第一次Skype会议，第一次用Git的付费仓库等…还有其他很多很多东西。</p>
<p>生活</p>
<p>这一年坚持得最好的可能真的就只有骑行了，虽然时间相对少了很多，不过还是挤出了一部分周六的时间，或者半天时间和小伙伴们一起骑车。成立了公路车队,利用出差的周末在酒店的无聊时间撸了一个车队自己的App，串着使用了BombSDK的云，支付等，也算是对新东西的一点学习吧。</p>
<p>周末在家的时候会帮女朋友一起做一两顿饭，想起自己以前只会电饭煲蒸饭，现在算得上是厨艺有很大进步了，水煮肉片，粉蒸肉，炖排骨，姜汁鸡，烙馅饼，外加几个小素菜，有时间就尝试弄新的菜，虽然还是感觉做饭太浪费时间，不过吃自己做的还是有一种不错的成就感。</p>
<p>学习</p>
<p>相比起去年，今年可谓少了太多。原因之一是平时确实到家太晚了，还有一个可能是自己变得懒惰了吧。好在后半年稍微闲的时候自己又猛补了几本，把格拉德威尔的经典系列(&lt;异类&gt;，&lt;眨眼之间&gt;，&lt;引爆点&gt;,&lt;逆转&gt;,&lt;大开眼见&gt;)这基本初略的看晚了。真心是值得推荐的几本书籍。</p>
<p>其它方面应该算是小打小闹了，Keynote，iMovie，Sketch。如果有人现在问我，怎么样才能快速学习一门新技能，我会毫不含糊的告诉他，先花钱，花让你心痛的钱。加上迫切的任务需要，绝对会很快入门的。</p>
<p>在微博上看到许岑的Keynote教程买了。跟下来,除了感觉自己在理念上有一些提高外,最看得见的就是自己从完全不会，到最后做出来的东西自己都觉得不可相信。车队成立的时候，我用Keynote加以前学到的一些演讲技巧着实震撼了一次小伙伴们，这个基本也能算得上是入门了吧。</p>
<p>iMovie则是因为想要给女朋友点生日礼物。家里的电脑当时还是10.9没升级，所以还需要购买，然后又买了iMovie的视频教程，弄到手机上，利用上下班公交的时间，加上一些业余时间，给女朋友做了一个视频，我现在都记得她哭的稀里哗啦的样子。</p>
<p>Sketch价格还不算太贵，买了之后跟着官方和社区比较间断的学习，能够做一些简单的东西。</p>
<p>PhotoShop这东西着实太贵，加上自己也用不上这坦克，所以最后还是弄了盗版，然后买了李文泉教程，这东西没怎么实际使用，所以就学了几招简单的东西。</p>
<p>编程方面撸了JavaScript的基础技能后,发现没地方实践，最后就撸了这个博客，虽然还是没怎么用上JavaScript，不过好歹面对源代码的时候不会存在互不认识的局面了。</p>
<p>Python的持续使用方面由于时间关系没推起来,本来是准备和公司的测试部门一起搞搞自动化测试的，由于时间太紧最后也就不了了之了，希望来年能够优点时间推进以下，不然我这Python的Hello,World怎么写都要忘记了。</p>
<p>Swift语言也是最近才开始接触了点,抽了一天时间学习了部分基础语法后撸了一个例子，恰好碰到Yep开源了，然后Clone下来了代码,最近几天在看。这东西如果工作中不使用,我觉得我又会很快忘掉的。</p>
<p>期望</p>
<p>这一年很多东西没坚持下来，来年希望自己能够坚持学习新的技能，骑车，游泳，阅读，烹饪。<br>性格方便的自我约束，放缓心态，控制好易烦躁，粗心。这东西我觉得改不了，但是希望自己能够尽量控制得好。<br>社交圈的扩大。接触更多新的事物和人，去认识交流沟通，不把自己仅限于开发人员这个圈子。<br>更多的关心家人，朋友。爷爷奶奶年龄已高，见一次可能就少一次了，自己多抽时间回家，多吃一顿奶奶做的饭，多和爷爷吹几句牛，我想他们也是幸福的。<br>把个人的事情处理了，两家人也一直在期盼。<br>2016，愿平安，顺利。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Move-Blog-To-Github" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/20/Move-Blog-To-Github/" class="article-date">
  	<time datetime="2016-01-20T03:40:33.000Z" itemprop="datePublished">2016-01-20</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/20/Move-Blog-To-Github/">Move_Blog_To_Github</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>今天开始,将之前CSDN的博客迁移到Github来了,您可以访问</p>
<ol>
<li><a href="http://www.alexcocoa.com" target="_blank" rel="noopener">http://www.alexcocoa.com</a> </li>
<li><a href="http://blog.csdn.net/u012972257" target="_blank" rel="noopener">http://blog.csdn.net/u012972257</a></li>
</ol>
<p>来访问我的博客了。</p>
<p>由于格式转换原因,导致之前使用的非markdown格式写的文章，转换起来总是有些瑕疵,所以还是留在了之前的博客.只搬过来的markdown格式的。</p>
<p>非常感谢”Hexo”和Github以及该主题的开发者<br>litten <a href="https://github.com/litten/hexo-theme-yilia">https://github.com/litten/hexo-theme-yilia</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Xcode-Debug" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/11/Xcode-Debug/" class="article-date">
  	<time datetime="2016-01-11T04:11:17.000Z" itemprop="datePublished">2016-01-11</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/11/Xcode-Debug/">Xcode_Debug</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Xcode调试代码"><a href="#Xcode调试代码" class="headerlink" title="Xcode调试代码"></a>Xcode调试代码</h3><p>在使用Xcode的开发的过程中,难免遇到代码各种崩溃的问题，这里除了介绍的几种方法来调试以外,之前自己在开发中遇到问题,在StackOverflow上找到了答案</p>
<p>前几种方法可参照</p>
<p>英语原文:<a href="http://crushbeercrushcode.org/2012/11/four-tips-for-debugging-in-xcode-like-a-bro/" target="_blank" rel="noopener">http://crushbeercrushcode.org/2012/11/four-tips-for-debugging-in-xcode-like-a-bro/</a></p>
<p>中文翻译:<a href="http://blog.csdn.net/joywii/article/details/19641931" target="_blank" rel="noopener">http://blog.csdn.net/joywii/article/details/19641931</a></p>
<h3 id="下面是我遇上的问题"><a href="#下面是我遇上的问题" class="headerlink" title="下面是我遇上的问题"></a>下面是我遇上的问题</h3><p><strong>* Terminating app due to uncaught exception ‘NSInvalidArgumentException’, reason: ‘*</strong> setObjectForKey: object cannot be nil (key: title)’<br>*** First throw call stack:<br>(0x18545e084 0x195a440e4 0x1853497b8 0x1000ce3b4 0x1000d41d4 0x189c14e68 0x189bfdfc0 0x189c14804 0x189c14490 0x189c0d9e4 0x189be11d4 0x189e7f98c 0x189bdf73c 0x185416324 0x1854155c8 0x185413678 0x185341664 0x18e4835a4 0x189c464f8 0x100134f00 0x1960b2a08)<br>libc++abi.dylib: terminating with uncaught exception of type NSException</p>
<p>看到这个问题的第一反应就是,肯定那个字典被设置了nil,再一细看就会发现,崩溃信息还打印出了key:@”title”. 第一反应就是全局搜索了一下，发现相同的太多了，也没有相关的上下文，怎么办？ </p>
<p>于是我使用lldb下的 bt 来查看</p>
<pre><code>(lldb) bt
* thread #1: tid = 0x558b, 0x00000001961cb270 libsystem_kernel.dylib`__pthread_kill + 8, queue = &apos;com.apple.main-thread&apos;, stop reason = signal SIGABRT
    frame #0: 0x00000001961cb270 libsystem_kernel.dylib`__pthread_kill + 8
    frame #1: 0x0000000196269228 libsystem_pthread.dylib`pthread_kill + 112
    frame #2: 0x0000000196142b18 libsystem_c.dylib`abort + 112
    frame #3: 0x0000000195229418 libc++abi.dylib`abort_message + 116
    frame #4: 0x0000000195248b8c libc++abi.dylib`default_terminate_handler() + 304
    frame #5: 0x0000000195a443c0 libobjc.A.dylib`_objc_terminate() + 128
    frame #6: 0x0000000195245bb4 libc++abi.dylib`std::__terminate(void (*)()) + 16
    frame #7: 0x000000019524573c libc++abi.dylib`__cxa_rethrow + 144
    frame #8: 0x0000000195a44294 libobjc.A.dylib`objc_exception_rethrow + 44
    frame #9: 0x0000000185341714 CoreFoundation`CFRunLoopRunSpecific + 572
    frame #10: 0x000000018e4835a4 GraphicsServices`GSEventRunModal + 168
    frame #11: 0x0000000189c464f8 UIKit`UIApplicationMain + 1488
  * frame #12: 0x0000000100134f00 XXApplication`main(argc=1, argv=0x000000016fd5fa58) + 124 at main.m:16
    frame #13: 0x00000001960b2a08 libdyld.dylib`start + </code></pre><p>但是这还是没有什么东西啊,继续向下看,不是还有那么多地址信息么。怎么去解析这些地址信息读出来？ 在stackOverflow上找了这个</p>
<pre><code>image lookup -a xxxx </code></pre><p>然后直接在lldb试了试，咦，相关信息出来了。</p>
<pre><code>(lldb) image lookup -a 0x1853497b8
      Address: CoreFoundation[0x0000000181b917b8] (CoreFoundation.__TEXT.__text + 64232)
      Summary: CoreFoundation`-[__NSDictionaryM setObject:forKey:] + 972
(lldb) image lookup -a 0x1000ce3b4
      Address: XXApplication[0x000000010002e3b4] (XXApplication.__TEXT.__text + 167516)
      Summary: XXApplication`-[kPlayerWrapperViewController setMessageToDevicePlayer] + 208 at kPlayerWrapperViewController.m:485</code></pre><p>然后果断定位到代码行,发现原来是同事在此处操作的时候,没有判断数据的存在性导致的,至此,问题原因找到了。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2019 Alex Wu
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: true
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>